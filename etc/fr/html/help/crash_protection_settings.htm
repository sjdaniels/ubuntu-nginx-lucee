<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0026)http://www.macromedia.com/ -->
<html>
<head>
<meta http-equiv="content-style-type" content="text/css">
<title>Crash Protection settings</title>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<meta name="generator" content="RoboHelp by eHelp Corporation www.ehelp.com">
<link rel="stylesheet" href="default_ns.css" type="text/css">
<script type="text/javascript" language="JavaScript">
<!--
if (navigator.appName !="Netscape")
{   document.write("<link rel='stylesheet' href='default.css'>");}
//-->
</script>
<style type="text/css">
<!--
p.whs1 { font-weight:bold; }
table.whs2 { width:100%; border-spacing:0px; }
col.whs3 { width:18.237%; }
col.whs4 { width:81.763%; }
tr.whs5 {  }
td.whs6 { width:18.237%; border-left-width:1px; border-left-color:#000000; border-left-style:Solid; border-top-style:Solid; border-top-color:#000000; border-top-width:1px; border-right-width:1px; border-right-color:#000000; border-right-style:Solid; border-bottom-style:Solid; border-bottom-color:#000000; border-bottom-width:1px; padding-right:10px; padding-left:10px; }
td.whs7 { width:81.763%; border-top-style:Solid; border-top-color:#000000; border-top-width:1px; border-right-width:1px; border-right-color:#000000; border-right-style:Solid; border-bottom-style:Solid; border-bottom-color:#000000; border-bottom-width:1px; padding-right:10px; padding-left:10px; }
ul.whs8 { list-style:disc; }
td.whs9 { width:18.237%; padding-right:10px; padding-left:10px; border-left-style:Solid; border-left-color:#000000; border-left-width:1px; border-right-style:Solid; border-right-color:#000000; border-right-width:1px; border-bottom-width:1px; border-bottom-color:#000000; border-bottom-style:Solid; }
td.whs10 { width:81.763%; padding-right:10px; padding-left:10px; border-right-style:Solid; border-right-color:#000000; border-right-width:1px; border-bottom-width:1px; border-bottom-color:#000000; border-bottom-style:Solid; }
td.whs11 { width:18.237%; padding-right:10px; padding-left:10px; border-left-width:1px; border-left-color:#000000; border-left-style:Solid; border-right-width:1px; border-right-color:#000000; border-right-style:Solid; border-bottom-style:Solid; border-bottom-color:#000000; border-bottom-width:1px; }
td.whs12 { width:81.763%; padding-right:10px; padding-left:10px; border-right-width:1px; border-right-color:#000000; border-right-style:Solid; border-bottom-style:Solid; border-bottom-color:#000000; border-bottom-width:1px; }
p.whs13 { font-style:italic; }
p.whs14 { font-style:normal; font-weight:bold; }
p.whs15 { font-weight:normal; }
-->
</style>

<script type="text/javascript" language="JavaScript">
<!--
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
        origWidth = innerWidth;
        origHeight = innerHeight;
        onresize = reDo;
}
onerror = null; 
//-->
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute; left:0px; top:0px; z-index:4; visibility:hidden; }
-->
</style>

<script type="text/javascript" language="javascript1.2" src="whtopic.js">
</script>
<script type="text/javascript" language="javascript1.2" src="whutils.js">
</script>
<script type="text/javascript" language="javascript" src="whver.js">
</script>
<script type="text/javascript" language="javascript1.2">
<!--
    var linkedScrollbarStyle = "<link rel='stylesheet' href='wf_topics.css'>";
    if( (!isTopicOnly()) &&(parent.gbFHPureHtml == null) )
    {
        document.write(linkedScrollbarStyle);
    }
    //-->
</script>
</head>
<body>
<script type="text/javascript" language="javascript1.2">
<!--
if (window.addTocInfo)
{
addTocInfo("Crash Protection\nCP Settings");

  addShowButton();
}
if (window.setRelStartPage)
{
setRelStartPage("help.htm");

        sendTopicLoaded();
        autoSync(1);
        sendSyncInfo();
        sendAveInfo();
        sendBgColorInfo();
}
//-->
</script>
<h1>Crash Protection Settings</h1>
<p>Unattended Monitoring via Crash Protection is a way to protect your server from various types of load. You can protect from excessive numbers of requests all being run at the same time. You can protect from individual requests running for long periods of time and you can protect from requests running when the server is low on memory. FusionReactor can notify you when any of these situations occur.</p>
<p>&#160;</p>
<p>The Crash Protection Settings page lets you modify various elements relating to the different forms of Crash Protection.</p>
<p>&#160;</p>
<h4>How do I set up Unattended Monitoring with Crash Protection?</h4>
<p>From the FusionReactor Administrator, click "CP Settings" from the table of contents (Crash Protection section) and you will see the Crash Protection Settings screen. From here you can activate any of the crash protection triggers and set up what action should be taken if they trigger:</p>
<p>&#160;</p>
<p class="whs1">Crash Protection:</p>
<table cellspacing="0" width="100%" class="whs2">
<col class="whs3">
<col class="whs4">
<tr valign="top" class="whs5">
<td width="18.237%" class="whs6">
<p>Timeout Protection (s)</p>
</td>
<td width="81.763%" class="whs7">
<p>By entering a number (in seconds) in this field you will enable Timeout Crash Protection, from that point on, any request which takes longer to execute than this time will trigger Crash Protection. To turn this feature off again, simply remove any value from the field. You can specify what should occur when Timeout Crash Protection is triggered:</p>
<ul type="disc" class="whs8">
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Abort and Notify</b></span> - The request will be aborted and a notification email will be sent</p>
</li>
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Notify</b></span> - The request is left running and a warning email is sent.</p>
</li>
</ul>
</td>
</tr>
<tr valign="top" class="whs5">
<td colspan="1" rowspan="1" width="18.237%" class="whs9">
<p>Memory Protection (%)</p>
</td>
<td colspan="1" rowspan="1" width="81.763%" class="whs10">
<p>By entering a number (percentage) in this field you will enable Memory Crash Protection. From that point on, if the amount of free memory on the server is less than this number when a request arrives, Crash Protection will be triggered. To turn this feature off again, simply remove any value from the field. You can specify what should occur when Memory Crash Protection is triggered:</p>
<ul type="disc" class="whs8">
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Abort and Notify</b></span> - The request will be aborted and a notification email will be sent</p>
</li>
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Queue and Notify</b></span> - The request will be added to a queue in order to be executed once the server has recovered and a notification email will be sent. You can specify the queue timeout in the Survival Strategy section of this page.</p>
</li>
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Notify</b></span> - The request is left running and a warning email is sent.</p>
</li>
</ul>
</td>
</tr>
<tr valign="top" class="whs5">
<td colspan="1" rowspan="1" width="18.237%" class="whs11">
<p>Request Protection</p>
</td>
<td colspan="1" rowspan="1" width="81.763%" class="whs12">
<p>By entering a number in this field you will enable Request Quantity Crash Protection. From that point on, if the amount of currently running requests on the server is greater than this number when a request arrives, Crash Protection will be triggered. To turn this feature off again, simply remove any value from the field. You can specify what should occur when Request Quantity Crash Protection is triggered:</p>
<ul type="disc" class="whs8">
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Abort and Notify</b></span> - The request will be aborted and a notification email will be sent</p>
</li>
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Queue and Notify</b></span> - The request will be added to a queue in order to be executed once the server has recovered and a notification email will be sent. You can specify the queue timeout in the Survival Strategy section of this page.</p>
</li>
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Notify</b></span> - The request is left running and a warning email is sent.</p>
</li>
</ul>
</td>
</tr>
</table>
<p class="whs13">&#160;</p>
<p class="whs13"><span style="font-weight:bold;"><b>NOTE</b></span>: In order to receive notification email you must set up your Email Server on the <a href="fusionreactor_settings.htm" style="font-style:italic;">FusionReactor Settings</a> page. You can also change the behaviour of the Request Abort and Request Queue in the Survival Strategy part of this page.</p>
<p>&#160;</p>
<p class="whs14"><span style="font-style:normal; font-weight:bold;"><b>Crash Protection Restrictions:</b></span></p>
<table cellspacing="0" width="100%" class="whs2">
<col class="whs3">
<col class="whs4">
<tr valign="top" class="whs5">
<td width="18.237%" class="whs6">
<p>Restrictions</p>
</td>
<td width="81.763%" class="whs7">
<p>From here you can enable or disable the Crash Protection Restrictions feature. When restrictions are enabled you can define which pages will be run through the Crash Protection system and which will be left to run normally. You can defined individual restrictions on the <a href="cp_exclusions.htm">CP Restrictions</a> page.</p>
</td>
</tr>
<tr valign="top" class="whs5">
<td colspan="1" rowspan="1" width="18.237%" class="whs9">
<p>Behavior</p>
</td>
<td colspan="1" rowspan="1" width="81.763%" class="whs10">
<p>This value defines how Crash Protection Restrictions behave.</p>
<ul type="disc" class="whs8">
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Protect Matching Requests</b></span> - No requests will be subject to protection (they will never be aborted or timed out) unless they are matched by a Restriction rule as defined on the <a href="cp_exclusions.htm">CP Restrictions</a> page.</p>
</li>
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Exclude Ignore Requests</b></span> - &#160;All requests will be subject to protection (they may be aborted or timed out) unless they are matched by a Restriction rule, in which case they will not be touched by Crash Protection under any circumstances as defined on the <a href="cp_exclusions.htm">CP Restrictions</a> page.</p>
</li>
</ul>
</td>
</tr>
</table>
<p>&#160;</p>
<p class="whs1">&#160;</p>
<h4><span style="font-weight:bold;"><b>What is a Survival Strategy and Self-healing?</b></span></h4>
<p class="whs15">The survival strategy is how FusionReactor will attempt to self-heal the situation if crash protection is triggered. It can be configured to kill problem requests and queue new requests until the situation is stabilized. It will also alert you so that you have time to resolve the problem if you need to take action.</p>
<p class="whs1">&#160;</p>
<p class="whs1">&#160;</p>
<p class="whs1">Survival Strategy:</p>
<table cellspacing="0" width="100%" class="whs2">
<col class="whs3">
<col class="whs4">
<tr valign="top" class="whs5">
<td width="18.237%" class="whs6">
<p>Abort Strategy</p>
</td>
<td width="81.763%" class="whs7">
<p>When a request is aborted due to Crash Protection there are two possible behaviours:</p>
<ul type="disc" class="whs8">
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Display Message</b></span> - Enter your message in the text box provided and that message will be presented to the user who made the aborted request.</p>
</li>
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>Redirect to URL</b></span> - Enter a URL in the text box provided and the user who made the aborted request will instead be redirected to this URL.</p>
</li>
</ul>
<p class="whs13"><span style="font-weight:bold;"><b>NOTE</b></span>: Redirects may not work when a page has already sent data to the browser.</p>
</td>
</tr>
<tr valign="top" class="whs5">
<td colspan="1" rowspan="1" width="18.237%" class="whs9">
<p>Add Parameters</p>
</td>
<td colspan="1" rowspan="1" width="81.763%" class="whs10">
<p>After an abort, if you "Redirect to URL" then this option defines whether FusionReactor will add extra parameters to your URL so you can see exactly what happened. If you enable parameters the your URL will include the following:</p>
<ul type="disc" class="whs8">
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>detection_method</b></span> - This is the type of Crash Protection which fired. It will be one of: "freemem", "requests", or "timeout"</p>
</li>
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>threshold_value</b></span> - This is the threshold value associated with the type of Crash Protection, as defined earlier on this page.</p>
</li>
<li class="kadov-p">
<p><span style="font-weight:bold;"><b>actual_value</b></span> - This is the actual which caused the Crash Protection to fire.</p>
</li>
<li class="kadov-p">
<p class="whs1">source_url <span style="font-weight:normal;">- Contains the URL sent on the original request e.g. http://127.0.0.1/test.cfm</span> <span style="font-weight:normal;">&#160;(since 3.0.1)</span></p>
</li>
<li class="kadov-p">
<p class="whs1">source_url_params <span style="font-weight:normal;">- Contains the URL parameters sent on the original request (since 3.0.1)</span></p>
</li>
<li class="kadov-p">
<p class="whs1">source_method <span style="font-weight:normal;">- This is the HTTP method used on the original request e.g. GET, POST (since 3.0.1)</span></p>
</li>
<li class="kadov-p">
<p class="whs1">start_time - <span style="font-weight:normal;">This is the start time of the request from Epoch e.g. 1209376581900</span> <span style="font-weight:normal;">(since 3.0.1)</span></p>
</li>
</ul>
</td>
</tr>
<tr valign="top" class="whs5">
<td colspan="1" rowspan="1" width="18.237%" class="whs11">
<p>Queue Timeout / (Request Abort) (seconds)</p>
</td>
<td colspan="1" rowspan="1" width="81.763%" class="whs12">
<p>If a request is queued due to Crash Protection, this value represents the longest amount of time that the request will be held before FusionReactor abandones it.</p>
</td>
</tr>
</table>
<p>&#160;</p>
<p class="whs1">Crash Protection Logging:</p>
<table cellspacing="0" width="100%" class="whs2">
<col class="whs3">
<col class="whs4">
<tr valign="top" class="whs5">
<td width="18.237%" class="whs6">
<p>CP Logging</p>
</td>
<td width="81.763%" class="whs7">
<p>If Crash Protection Logging is enabled then Crash Protection information will be written to the <a href="crash_protection_log.htm">Crash Protection Log</a>.</p>
</td>
</tr>
<tr valign="top" class="whs5">
<td colspan="1" rowspan="1" width="18.237%" class="whs9">
<p>View Size (KB)</p>
</td>
<td colspan="1" rowspan="1" width="81.763%" class="whs10">
<p>This value indicates how much of the log file should be displayed when you view the Crash Protection Log from inside FusionReactor.</p>
</td>
</tr>
<tr valign="top" class="whs5">
<td colspan="1" rowspan="1" width="18.237%" class="whs11">
<p>File Size (KB)</p>
</td>
<td colspan="1" rowspan="1" width="81.763%" class="whs12">
<p>Specifies the size of each file in the Crash Protection Log rotating file set.</p>
</td>
</tr>
<tr valign="top" class="whs5">
<td colspan="1" rowspan="1" width="18.237%" class="whs9">
<p>File Count</p>
</td>
<td colspan="1" rowspan="1" width="81.763%" class="whs10">
<p>Specifies the number of files in the Crash Protection Log rotating file set.</p>
</td>
</tr>
</table>
<p>&#160;</p>
<h4>How do I set up Notifications?</h4>
<p>From the FusionReactor Administrator, click "<a href="fusionreactor_settings.htm">Settings</a>" from the table of contents (FusionReactor section) and you will see the FusionReactor Settings screen. The Email section of this screen deals with the notification.</p>
<p>&#160;</p>
<h4>Why would I want to enable Crash Protection?</h4>
<p>There are many cases in which crash protection can be an invaluable tool. These include:</p>
<h5>Easing Support</h5>
<p>Crash Protection automates the manual process of checking each of your servers and verifying that they are operating within satisfactory parameters. Instead of having to periodically go through each server you can have warnings sent directly to your inbox.</p>
<h5>Request Bursts</h5>
<p>If you have a server which receives bursts of requests all at once then FusionReactor can using queuing spread that load out over time and so protect your server from becoming overwhelmed.</p>
<h5>Preventing Crashes</h5>
<p>If you periodically have very resource hungry jobs running then FusionReactor can stop new requests being run which could potentially cause the server to become unstable.</p>
<h4>During Development</h4>
<p>If you need to write a page which cannot use more that a fixed amount of the system resources then crash protection is a good way of tracking where and when you have problems. As well as emails, crash triggers can also be viewed in a logfile.</p>
<p>&#160;</p>
</body>
</html>
